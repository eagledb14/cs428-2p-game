import{r as L,bc as Me,ax as Fe,av as ze,w as _e,bd as He,be as Ge,d as re,bf as be,o,m as p,k as d,G as E,h as C,f as e,bg as le,t as j,p as D,v as F,a4 as We,a6 as ee,F as R,n as A,a1 as ce,a5 as Je,a as V,i as f,j as k,V as ke,E as Ce,bh as Ke,a8 as Qe,at as de,a7 as Xe,aw as Ye,e as Ze,aa as xe,l as te,I as ae,aq as et,_ as we,A as $e,bi as tt,bj as ot,ae as nt,S as st,bk as lt,al as at}from"./entry.54b63325.js";import{_ as rt}from"./Navbar.vue.bacddf14.js";import{_ as Se}from"./Badge.15b76164.js";import{_ as Te}from"./NSelect.vue.e3495019.js";import{_ as it}from"./NCheckbox.vue.fcd1d971.js";import{u as Ve,_ as ut}from"./storage-options.b1a5fc25.js";import{_ as dt}from"./DataSchemaButton.vue.41ad6158.js";import{_ as ct}from"./NCodeBlock.vue.84865d5b.js";import{C as ye,S as Re}from"./constants.4e5eba24.js";import{U as pt}from"./json-editor-vue.ce96762e.js";import{_ as ft}from"./NSectionBlock.42a3cefc.js";import{_ as mt}from"./DrawerRight.vue.5bde5a0b.js";import"./client.d926285a.js";import"./NIconTitle.vue.b6d28480.js";const se=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function vt(r,h){if(typeof r!="string")throw new TypeError("argument str must be a string");const m={},w=(h||{}).decode||gt;let _=0;for(;_<r.length;){const t=r.indexOf("=",_);if(t===-1)break;let y=r.indexOf(";",_);if(y===-1)y=r.length;else if(y<t){_=r.lastIndexOf(";",t-1)+1;continue}const u=r.slice(_,t).trim();if(m[u]===void 0){let i=r.slice(t+1,y).trim();i.codePointAt(0)===34&&(i=i.slice(1,-1)),m[u]=yt(i,w)}_=y+1}return m}function ge(r,h,m){const n=m||{},w=n.encode||_t;if(typeof w!="function")throw new TypeError("option encode is invalid");if(!se.test(r))throw new TypeError("argument name is invalid");const _=w(h);if(_&&!se.test(_))throw new TypeError("argument val is invalid");let t=r+"="+_;if(n.maxAge!==void 0&&n.maxAge!==null){const y=n.maxAge-0;if(Number.isNaN(y)||!Number.isFinite(y))throw new TypeError("option maxAge is invalid");t+="; Max-Age="+Math.floor(y)}if(n.domain){if(!se.test(n.domain))throw new TypeError("option domain is invalid");t+="; Domain="+n.domain}if(n.path){if(!se.test(n.path))throw new TypeError("option path is invalid");t+="; Path="+n.path}if(n.expires){if(!ht(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");t+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(t+="; HttpOnly"),n.secure&&(t+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":t+="; Priority=Low";break;case"medium":t+="; Priority=Medium";break;case"high":t+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:t+="; SameSite=Strict";break;case"lax":t+="; SameSite=Lax";break;case"strict":t+="; SameSite=Strict";break;case"none":t+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t}function ht(r){return Object.prototype.toString.call(r)==="[object Date]"||r instanceof Date}function yt(r,h){try{return h(r)}catch{return r}}function gt(r){return r.includes("%")?decodeURIComponent(r):r}function _t(r){return encodeURIComponent(r)}const bt={path:"/",watch:!0,decode:r=>He(decodeURIComponent(r)),encode:r=>encodeURIComponent(typeof r=="string"?r:JSON.stringify(r))};function kt(r,h){const m={...bt,...h},n=Ct(m)||{},w=L(n[r]??m.default?.());{const _=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${r}`);Me()&&Fe(()=>{_?.close()});const t=()=>{wt(r,w.value,m),_?.postMessage(Ge(w.value))};let y=!1;_&&(_.onmessage=u=>{y=!0,w.value=u.data,ze(()=>{y=!1})}),m.watch?_e(w,()=>{y||t()},{deep:m.watch!=="shallow"}):t()}return w}function Ct(r={}){return vt(document.cookie,r)}function xt(r,h,m={}){return h==null?ge(r,h,{...m,maxAge:-1}):ge(r,h,m)}function wt(r,h,m={}){document.cookie=xt(r,h,m)}const $t=d("div",{"x-divider":""},null,-1),Ue=re({__name:"ServerRouteListItem",props:{item:{},index:{default:0}},setup(r){const h=L(!0),m=be();return(n,w)=>{const _=ce,t=Se,y=Ue;return o(),p("div",null,[d("button",{flex:"~ gap-2","w-full":"","items-start":"","items-center":"","hover-bg-active":"",px2:"",py1:"",class:E([{"bg-active":e(m)===n.item.filepath}]),style:We({paddingLeft:`calc(0.5rem + ${n.index*1.5}em)`}),onClick:w[0]||(w[0]=u=>{h.value=!e(h),m.value=n.item.filepath})},[d("div",{class:E({"w-12":!n.item.routes}),"flex-none":"","text-left":""},[n.item.type==="collection"?(o(),C(_,{key:0,icon:"carbon:chevron-right","mb0.5":"","transform-rotate":e(h)?90:0,transition:""},null,8,["transform-rotate"])):(o(),C(t,{key:1,class:E(("getRequestMethodClass"in n?n.getRequestMethodClass:e(le))(n.item.method||"*")),textContent:j((n.item.method||"*").toUpperCase())},null,8,["class","textContent"]))],2),d("span",{class:E({"flex items-center":n.item.routes}),"text-sm":"","font-mono":""},[n.item.type==="collection"?(o(),C(_,{key:0,title:`${n.item.routes?.length} routes`,icon:"carbon:folder",mr1:""},null,8,["title"])):D("",!0),F(" "+j(n.item.route),1)],2)],6),$t,e(h)?ee(n.$slots,"default",{key:0},()=>[(o(!0),p(R,null,A(n.item.routes,u=>(o(),C(y,{key:u.filepath,item:u,index:n.index+1},null,8,["item","index"]))),128))]):D("",!0)])}}}),St={p4:"",flex:"~ col gap-4"},Tt={key:1,ml2:"",flex:""},Vt=["value"],Rt={key:0,flex:"","gap-4":""},Ut=d("div",{"flex-auto":""},null,-1),Ie=re({__name:"ServerRouteInputs",props:{modelValue:{},keys:{default:()=>[]},default:{default:()=>({})},disabled:{type:Boolean,default:!1}},setup(r,{emit:h}){const m=r,n=Je(m,"modelValue",h,{passive:!0}),w=V(()=>[...m.keys,"key","value","type"]),_=V(()=>{const u={};for(const i of w.value)u[i]=m.default[i]||"";return u}),t=["string","number","boolean","file","date","time","datetime-local"];function y(u,i){const U=i.target;if(U.files&&U.files[0]){const W=U.files[0],M=new FileReader;M.readAsDataURL(W),M.onload=()=>{n.value[u].value=M.result}}}return _e(()=>n,u=>{u.value.forEach(i=>{if(i.type==="number"&&typeof i.value!="number"){const U=Number.parseFloat(i.value);i.value=Number.isNaN(U)?0:U}else i.type==="boolean"&&typeof i.value!="boolean"?i.value=!0:i.type==="file"&&typeof i.value!="object"?i.value="":i.type==="date"&&typeof i.value=="string"&&!i.value.match(/^\d{4}-\d{2}-\d{2}$/)?i.value=new Date().toISOString().slice(0,10):i.type==="time"&&typeof i.value=="string"&&!i.value.match(/^\d{2}:\d{2}$/)?i.value=new Date().toISOString().slice(11,16):i.type==="datetime-local"&&typeof i.value=="string"&&!i.value.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/)?i.value=new Date().toISOString().slice(0,16):i.type==="string"&&(i.value=i.value.toString())})},{deep:!0,immediate:!0,flush:"sync"}),(u,i)=>{const U=ke,W=it,M=Te,H=ce,v=Ce;return o(),p("div",St,[(o(!0),p(R,null,A(e(n),(c,x)=>(o(),p("div",{key:x,flex:"~ gap-2","justify-around":""},[ee(u.$slots,"input",{item:c}),(o(!0),p(R,null,A(e(w),$=>(o(),p(R,{key:$},[c.type!==null&&$==="key"?(o(),C(U,{key:0,modelValue:c[$],"onUpdate:modelValue":g=>c[$]=g,placeholder:$,"flex-1":"","font-mono":"",n:"sm primary",disabled:u.disabled,class:E(u.disabled?"op50":"")},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled","class"])):$==="value"?(o(),p(R,{key:1},[c.type==="file"?(o(),C(U,{key:0,type:"file",disabled:u.disabled,class:E(u.disabled?"op75":""),onChange:g=>y(x,g)},null,8,["disabled","class","onChange"])):c.type==="boolean"?(o(),p("div",Tt,[f(W,{modelValue:c.value,"onUpdate:modelValue":g=>c.value=g,placeholder:"Value",n:"green lg",disabled:u.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])):(o(),C(U,{key:2,modelValue:c.value,"onUpdate:modelValue":g=>c.value=g,type:c.type,placeholder:"Value","flex-1":"","font-mono":"",n:"sm primary",disabled:u.disabled,class:E(u.disabled?"op75":"")},null,8,["modelValue","onUpdate:modelValue","type","disabled","class"]))],64)):$==="type"?(o(),C(M,{key:2,modelValue:c.type,"onUpdate:modelValue":g=>c.type=g,n:"sm green",class:E(u.disabled?"op75":""),disabled:u.disabled},{default:k(()=>[(o(),p(R,null,A(t,g=>d("option",{key:g,value:g},j(g),9,Vt)),64))]),_:2},1032,["modelValue","onUpdate:modelValue","class","disabled"])):D("",!0)],64))),128)),ee(u.$slots,"input-actions",{},()=>[f(v,{n:"red",disabled:u.disabled,class:E(u.disabled?"op0!":""),onClick:$=>e(n).splice(x,1)},{default:k(()=>[f(H,{icon:"carbon:delete"})]),_:2},1032,["disabled","class","onClick"])])]))),128)),u.disabled?D("",!0):(o(),p("div",Rt,[ee(u.$slots,"actions",{params:e(n)},()=>[f(v,{icon:"carbon-add",n:"sm primary",my1:"","px-3":"",onClick:i[0]||(i[0]=c=>e(n).push({...e(_)}))},{default:k(()=>[F(" Add ")]),_:1}),Ut,e(n).length?(o(),C(v,{key:0,icon:"carbon-trash-can",n:"sm red",my1:"","px-3":"",onClick:i[1]||(i[1]=c=>n.value=[])},{default:k(()=>[F(" Remove All ")]),_:1})):D("",!0)])])),ee(u.$slots,"default")])}}}),It={"h-full":"","w-full":"",flex:"~ col"},Dt={flex:"~ col gap-2","flex-none":"",p4:"","navbar-glass":""},Nt={flex:"~ gap2"},Et={relative:"","w-full":""},jt={flex:"~ gap2 wrap","w-full":"","items-center":"",px4:"",pb2:"","text-center":"","text-sm":"",border:"b base"},Ot=d("div",{"flex-auto":""},null,-1),Pt={key:0,border:"b base","items-center":"",px4:"",py2:"",grid:"~ cols-[max-content_1fr] gap-2"},Lt={"text-right":"","font-mono":""},qt={key:1,border:"b base",p4:"",flex:"~ col gap-4","font-mono":""},Bt={flex:"~ gap-4"},At={flex:"~ gap2","mb--2":"","items-center":"",op50:""},Mt=d("div",{"w-5":"","x-divider":""},null,-1),Ft=d("div",{"flex-none":""}," Default Inputs ",-1),zt=d("div",{"x-divider":""},null,-1),Ht={key:2},Gt={key:3,border:"b base",relative:"","n-code-block":""},Wt={flex:"~ wrap","w-full":""},Jt=["onClick"],Kt=d("div",{border:"b base","flex-auto":""},null,-1),Qt={border:"b base",flex:"~ gap2","items-center":"",px4:"",py2:""},Xt=d("div",null,"Response",-1),Yt={key:1,"text-xs":"",op50:""},Zt=d("div",{"flex-auto":""},null,-1),eo=d("div",{op50:""}," Request finished in ",-1),to={key:0,"flex-auto":"","overflow-auto":""},oo={border:"~ base","h-full":"","w-full":"",rounded:""},no=["data"],so={key:2,"flex-auto":"","overflow-auto":"",p4:""},lo={border:"~ base",rounded:""},ao=["src"],ro={key:1,controls:"",rounded:""},io=["src"],uo=re({__name:"ServerRouteDetails",props:{route:{}},emits:["open-default-input"],setup(r,{emit:h}){const m=r,[n,w]=Ke(),_=Qe(),t=de({contentType:"text/plain",data:"",statusCode:200,error:void 0,fetchTime:0}),y=V(()=>t.contentType.includes("application/json")?"json":t.contentType.includes("text/html")?"html":t.contentType.includes("text/css")?"css":t.contentType.includes("text/javascript")?"javascript":t.contentType.includes("image")||t.contentType.includes("video")?"media":t.contentType.includes("text/xml")||t.contentType.includes("application/xml")?"xml":t.contentType.includes("application/pdf")?"pdf":"text"),u=V(()=>{if(y.value==="json")return JSON.stringify(t.data,null,2);if(y.value==="media"||y.value==="pdf"){const s=new Blob([t.data],{type:t.contentType});return URL.createObjectURL(s)}return t.data}),i=L(!1),U=L(!1),W=Xe(),M=V(()=>m.route.route?.split(/((?:\*\*)?:[\w_]+)/g)),H=V(()=>M.value?.filter(s=>s.startsWith(":")||s.startsWith("**:"))||[]),v=L(m.route.method||"GET"),c=L({}),x=de({query:[{key:"",value:"",type:"string"}],body:[{key:"",value:"",type:"string"}],headers:[{key:"Content-Type",value:"application/json",type:"string"}]}),$=L({}),{inputDefaults:g}=Ve("serverRoutes"),O=["GET","POST","PUT","PATCH","DELETE","HEAD"],q=["PATCH","POST","PUT","DELETE"],B=V(()=>q.includes(v.value.toUpperCase())),S=L(H.value.length?"params":"query"),oe=["input","json"],z=L(oe[0]),K=V({get:()=>x[S.value],set:s=>{x[S.value]=s}}),X=V(()=>({...J(g.value.query),...J(x.query)})),T=V(()=>({...J(g.value.headers),...J(x.headers)})),Y=V(()=>B.value?z.value==="json"?{...J(g.value.body),...$.value}:{...J(g.value.body),...J(x.body)}:void 0),De=V(()=>{let s=_.value?.devServer.url||"http://localhost";s.charAt(s.length-1)==="/"&&(s=s.slice(0,-1));const l=_.value?.devServer.port||3e3;return s.includes(`:${l}`)?s:`${s}:${l}`}),ne=V(()=>{let s=new URLSearchParams(X.value).toString();s&&(s=`?${s}`);const l=(M.value?.map(N=>(N.startsWith(":")||N.startsWith("**:"))&&c.value[N]||N).join("")||"")+s;let b=_.value?.app.baseURL||"";return(b==="./"||b===".")&&(b=""),b.endsWith("/")&&(b=b.slice(0,-1)),b+l}),pe=V(()=>De.value+ne.value);function J(s){const l=Object.fromEntries(s.filter(({key:b,value:N})=>b&&N!==void 0).map(({key:b,value:N})=>[b,N]));return Object.entries(l).length?l:void 0}async function fe(){U.value=!0,i.value=!0;const s=Date.now();try{t.data=await $fetch(pe.value,{method:v.value.toUpperCase(),headers:T.value,query:X.value,body:Y.value,onResponse({response:l}){t.contentType=(l.headers.get("content-type")||"").toString().toLowerCase().trim(),t.statusCode=l.status,t.error=void 0},onResponseError(l){t.error=l.response._data,t.data=l.response._data}})}catch{}i.value=!1,t.fetchTime=Date.now()-s}const me=V(()=>{const s=[],l=[],b=Object.entries(T.value).filter(([I,P])=>I&&P&&!(I==="Content-Type"&&P==="application/json")).map(([I,P])=>`  '${I}': '${P}'`).join(`,
`);v.value.toUpperCase()!=="GET"&&l.push(`method: '${v.value.toUpperCase()}'`),b&&l.push(`headers: {
${b}
}`),Y.value&&l.push(`body: ${JSON.stringify(Y.value,null,2)}`);const N=l.length?`, {
${l.join(`,
`).split(`
`).map(I=>`  ${I}`).join(`
`)}
}`:"";return s.push({name:"useFetch",lang:"javascript",docs:ye.nuxt.useFetch,code:`const { data, pending, error, refresh } = useFetch('${ne.value}'${N})`}),s.push({name:"$fetch",lang:"javascript",docs:ye.nuxt.$fetch,code:`await $fetch('${ne.value}'${N})`}),s}),Ne=V(()=>{const s=[];return H.value.length&&s.push({name:"Params",slug:"params",length:H.value.length}),s.push({name:"Query",slug:"query",length:x.query.length}),B.value&&s.push({name:"Body",slug:"body",length:x.body.length}),s.push({name:"Headers",slug:"headers",length:x.headers.length}),s.push({name:"Cookies",slug:"cookies"}),s.push({name:"Snippets",slug:"snippet"}),s}),Z=L(Ee());function Ee(){return document.cookie.split("; ").map(s=>{const[l,b]=s.split("=");return{key:l,value:b}})}const G=de({key:"",value:""});function ie(s,l){if(!s)return;const b=Z.value.find(I=>I.key===s),N=kt(s);b!==void 0?l===void 0&&(Z.value=Z.value.filter(I=>I.key!==s)):(Z.value.push({key:s,value:l}),G.key="",G.value=""),N.value=l}Ye(()=>{z.value==="json"&&typeof $.value=="string"&&($.value=JSON.parse($.value))});const je=Ze();return(s,l)=>{const b=Ce,N=Te,I=ke,P=ce,Oe=we,ve=Ie,Pe=ut,Le=$e,qe=tt,ue=Se,Be=dt,Ae=ct,he=xe("tooltip");return o(),p("div",It,[d("div",Dt,[d("div",Nt,[s.route.method?(o(),C(b,{key:0,class:E(("getRequestMethodClass"in s?s.getRequestMethodClass:e(le))(e(v))),"pointer-events-none":"",tabindex:"-1"},{default:k(()=>[F(j(e(v).toUpperCase()),1)]),_:1},8,["class"])):(o(),C(N,{key:1,modelValue:e(v),"onUpdate:modelValue":l[0]||(l[0]=a=>te(v)?v.value=a:null),class:E(("getRequestMethodClass"in s?s.getRequestMethodClass:e(le))(e(v)))},{default:k(()=>[(o(),p(R,null,A(O,a=>d("option",{key:a,class:E(("getRequestMethodClass"in s?s.getRequestMethodClass:e(le))(a))},j(a.toUpperCase()),3)),64))]),_:1},8,["modelValue","class"])),d("div",Et,[f(I,{"model-value":e(ne),disabled:"","flex-auto":"","font-mono":"",p:"x5 y2",n:"primary xs"},null,8,["model-value"]),ae((o(),C(b,{title:"Copy URL",absolute:"","right-2":"","top-1.7":"",n:"xs blue",onClick:l[1]||(l[1]=a=>e(je)(e(pe)))},{default:k(()=>[f(P,{icon:"carbon:copy"})]),_:1})),[[he,"Copy URL"]])]),f(b,{n:"primary solid",onClick:fe},{default:k(()=>[f(P,{icon:"carbon:send"})]),_:1})])]),d("div",jt,[(o(!0),p(R,null,A(e(Ne),a=>(o(),C(b,{key:a.slug,class:E(e(S)===a.slug?"text-primary n-primary":"border-transparent shadow-none"),onClick:Q=>S.value=a.slug},{default:k(()=>[f(P,{icon:("ServerRouteTabIcons"in s?s.ServerRouteTabIcons:e(Re))[a.slug]},null,8,["icon"]),F(" "+j(a.name)+" "+j(a?.length?`(${a.length})`:"")+" ",1),d("span",null,j(e(g)[a.slug]?.length?`(${e(g)[a.slug].length})`:""),1)]),_:2},1032,["class","onClick"]))),128)),Ot,ae((o(),C(b,{title:"Open in Editor",onClick:l[2]||(l[2]=a=>e(W)(s.route.filepath))},{default:k(()=>[f(P,{icon:"carbon-launch"})]),_:1})),[[he,"Open in Editor"]])]),e(S)==="params"?(o(),p("div",Pt,[(o(!0),p(R,null,A(e(H),a=>(o(),p(R,{key:a},[d("div",Lt,j(a),1),f(I,{modelValue:e(c)[a],"onUpdate:modelValue":Q=>e(c)[a]=Q,placeholder:a,"flex-1":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])],64))),128))])):D("",!0),e(S)==="cookies"?(o(),p("div",qt,[(o(!0),p(R,null,A(e(Z),a=>(o(),p("div",{key:a.key,flex:"~ gap-4 items-center"},[f(I,{placeholder:"Key...","model-value":a.key,disabled:"","op-70":""},null,8,["model-value"]),f(I,{placeholder:"Value...","model-value":a.value,"flex-1":"",n:"primary",onInput:Q=>ie(a.key,Q.target?.value)},null,8,["model-value","onInput"]),f(b,{title:"Delete",n:"red",onClick:Q=>ie(a.key,void 0)},{default:k(()=>[f(P,{icon:"i-carbon-delete"})]),_:2},1032,["onClick"])]))),128)),d("div",Bt,[f(I,{modelValue:e(G).key,"onUpdate:modelValue":l[3]||(l[3]=a=>e(G).key=a),placeholder:"Key",n:"primary","flex-1":""},null,8,["modelValue"]),f(I,{modelValue:e(G).value,"onUpdate:modelValue":l[4]||(l[4]=a=>e(G).value=a),placeholder:"Value",n:"primary","flex-1":""},null,8,["modelValue"]),f(b,{title:"Add",n:"primary",onClick:l[5]||(l[5]=a=>ie(e(G).key,e(G).value))},{default:k(()=>[f(P,{icon:"i-carbon-save"})]),_:1})])])):D("",!0),f(e(n),null,{default:k(()=>[f(ve,{modelValue:e(K),"onUpdate:modelValue":l[8]||(l[8]=a=>te(K)?K.value=a:null),default:{type:"string"},"max-h-xs":"","of-auto":""},{default:k(()=>[e(g)[e(S)]?.length?(o(),p(R,{key:0},[d("div",At,[Mt,Ft,f(Oe,{icon:"i-carbon-edit",onClick:l[6]||(l[6]=a=>h("open-default-input"))}),zt]),f(ve,{modelValue:e(g)[e(S)],"onUpdate:modelValue":l[7]||(l[7]=a=>e(g)[e(S)]=a),disabled:"",p0:""},null,8,["modelValue"])],64)):D("",!0)]),_:1},8,["modelValue"])]),_:1}),e(S)==="snippet"?(o(),p("div",Ht,[e(me).length?(o(),C(Pe,{key:0,"code-snippets":e(me)},null,8,["code-snippets"])):D("",!0)])):e(K)?(o(),p("div",Gt,[e(S)==="body"?(o(),p(R,{key:0},[d("div",Wt,[(o(),p(R,null,A(oe,a=>d("button",{key:a,px4:"",py2:"",border:"r base",hover:"bg-active",class:E({"border-b":a!==e(z)}),onClick:Q=>z.value=a},[d("div",{class:E({op30:a!==e(z)}),"font-mono":""},j(a),3)],10,Jt)),64)),Kt]),e(z)==="input"?(o(),C(e(w),{key:0})):e(z)==="json"?(o(),C(e(pt),et({key:1,modelValue:e($),"onUpdate:modelValue":l[9]||(l[9]=a=>te($)?$.value=a:null),class:[[s.$colorMode.value==="dark"?"jse-theme-dark":"light"],"json-editor-vue of-auto text-sm outline-none"]},s.$attrs,{mode:"text","navigation-bar":!1,indentation:2,"tab-size":2}),null,16,["modelValue","class"])):D("",!0)],64)):(o(),C(e(w),{key:1}))])):D("",!0),e(U)?e(i)?(o(),C(qe,{key:5,"z-10":"","flex-auto":"","backdrop-blur":""},{default:k(()=>[F(" Fetching... ")]),_:1})):(o(),p(R,{key:6},[d("div",Qt,[Xt,e(t).error?(o(),C(ue,{key:0,"bg-red-400:10":"","text-red-400":""},{default:k(()=>[F(" Error ")]),_:1})):D("",!0),f(ue,{class:E({"bg-orange-400:10 text-orange-400":e(t).error,"bg-green-400:10 text-green-400":!e(t).error})},{default:k(()=>[F(j(e(t).statusCode),1)]),_:1},8,["class"]),e(t).contentType?(o(),p("code",Yt,j(e(t).contentType),1)):D("",!0),e(t).contentType==="application/json"?(o(),C(Be,{key:2,getter:()=>({input:e(u)})},null,8,["getter"])):D("",!0),Zt,eo,f(ue,{"bg-green-400:10":"","text-green-400":""},{default:k(()=>[F(j(e(t).fetchTime)+" ms ",1)]),_:1})]),e(y)==="pdf"?(o(),p("div",to,[d("div",oo,[d("object",{data:e(u),type:"application/pdf","flex-auto":"",width:"100%",height:"100%",rounded:""},null,8,no)])])):e(y)!=="media"?(o(),C(Ae,{key:1,"flex-auto":"","overflow-auto":"","py-2":"",code:e(u),lang:e(y)},null,8,["code","lang"])):(o(),p("div",so,[d("div",lo,[e(t).contentType.includes("image")?(o(),p("img",{key:0,rounded:"",src:e(u)},null,8,ao)):(o(),p("video",ro,[d("source",{src:e(u),type:"video/mp4"},null,8,io)]))])]))],64)):(o(),C(Le,{key:4},{default:k(()=>[f(b,{n:"primary",onClick:fe},{default:k(()=>[f(P,{icon:"carbon:send"}),F(" Send request ")]),_:1})]),_:1}))])}}}),co={flex:"~ gap1","text-sm":""},po={key:0,op50:""},fo={op50:""},mo=d("span",{op75:""},"Select a route to start",-1),vo=d("div",{p4:"",border:"b base"},[d("span",{"text-lg":""},"Default Inputs"),d("br"),d("span",{"text-white":"",op50:""},"Merged as default for every request in DevTools")],-1),Uo=re({__name:"server-routes",setup(r){const h=L(!1),m=ot(),n=be(),{selectedRoute:w,view:_,inputDefaults:t}=Ve("serverRoutes"),y=V(()=>{!n.value&&w.value&&(n.value=w.value.filepath);const v=m.value?.find(c=>c.filepath===n.value);return n.value!==w.value?.filepath&&v&&(w.value=v),v}),u=L(""),i=V(()=>new nt(m.value||[],{keys:["method","route"],shouldSort:!0})),U=V(()=>m.value?u.value?i.value.search(u.value).map(c=>c.item):m.value:[]),W=V(()=>{const v=[],c=(x,$)=>{x.routes=x.routes||[],x.routes.push($)};return U.value.forEach(x=>{const $=x.filepath.split("/"),g=$.slice($.indexOf("server")+1);g.length>0&&g[g.length-1].includes(".")&&g.pop();let O=null;if(g.forEach(q=>{const B=O?O.routes?.find(S=>S.route===q):v.find(S=>S.route===q);if(B)O=B;else{const S={route:q,filepath:q.replace(/\W/g,"-").toLowerCase(),type:"collection",routes:[]};O?c(O,S):v.push(S),O=S}}),x.type==="runtime"){const q=v.find(B=>B.route==="runtime");if(q)c(q,x);else{const B={route:"runtime",filepath:"runtime",type:"collection",routes:[x]};v.push(B)}}else O?c(O,x):v.push(x)}),v});function M(){_.value=_.value==="tree"?"list":"tree"}function H(v){return v.charAt(0).toUpperCase()+v.slice(1)}return(v,c)=>{const x=we,$=rt,g=Ue,O=uo,q=at,B=$e,S=st,oe=Ie,z=ft,K=mt,X=xe("tooltip");return o(),p(R,null,[f(S,{"storage-key":"tab-server-routes"},{left:k(()=>[f($,{search:e(u),"onUpdate:search":c[1]||(c[1]=T=>te(u)?u.value=T:null),pb2:""},{actions:k(()=>[ae(f(x,{"text-lg":"",icon:e(_)==="list"?"i-carbon-list":"i-carbon-tree-view-alt",title:"Toggle view",onClick:M},null,8,["icon"]),[[X,"Toggle View"]]),ae(f(x,{"text-lg":"",icon:"i-carbon-cics-sit-overrides",title:"Default Inputs",onClick:c[0]||(c[0]=T=>h.value=!e(h))},null,512),[[X,"Default Inputs"]])]),default:k(()=>[d("div",co,[e(u)?(o(),p("span",po,j(e(U).length)+" matched · ",1)):D("",!0),d("span",fo,j(e(m)?.length)+" routes in total",1)])]),_:1},8,["search"]),(o(!0),p(R,null,A(e(_)==="tree"?e(W):e(U),T=>(o(),C(g,{key:T.filepath,item:T},null,8,["item"]))),128))]),right:k(()=>[(o(),C(lt,{max:10},[e(y)?(o(),C(O,{key:e(y).filepath,route:e(y),onOpenDefaultInput:c[2]||(c[2]=T=>h.value=!0)},null,8,["route"])):D("",!0)],1024)),e(y)?D("",!0):(o(),C(B,{key:0},{default:k(()=>[f(q,{px6:"",py2:""},{default:k(()=>[mo]),_:1})]),_:1}))]),_:1}),f(K,{modelValue:e(h),"onUpdate:modelValue":c[3]||(c[3]=T=>te(h)?h.value=T:null),"auto-close":"","max-w-xl":"","min-w-xl":"",onClose:c[4]||(c[4]=T=>h.value=!1)},{default:k(()=>[d("div",null,[vo,(o(!0),p(R,null,A(Object.keys(e(t)),T=>(o(),C(z,{key:T,text:`${H(T)} ${e(t)[T].length?`(${e(t)[T].length})`:""}`,padding:!1,icon:("ServerRouteTabIcons"in v?v.ServerRouteTabIcons:e(Re))[T]},{default:k(()=>[f(oe,{modelValue:e(t)[T],"onUpdate:modelValue":Y=>e(t)[T]=Y,py0:"",default:{type:"string"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["text","icon"]))),128))])]),_:1},8,["modelValue"])],64)}}});export{Uo as default};
